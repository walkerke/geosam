---
title: "Interactive workflows"
format: html
editor: visual
eval: false
---

geosam includes interactive Shiny tools for exploring imagery and running detections. This vignette covers `sam_explore()`, the main interactive interface for satellite imagery.

## Exploring satellite imagery

`sam_explore()` opens an interactive map where you can navigate, detect objects, and export results:

```{r}
library(geosam)

result <- sam_explore(source = "mapbox")
```

The interface lets you:

- **Navigate** to any location using the map or search
- **Text prompts**: Type a description to detect objects (e.g., "swimming pool")
- **Point prompts**: Click on the map to indicate object locations
- **Box prompts**: Draw a rectangle around an example object to find similar ones
- **Adjust threshold**: Use the slider to filter by confidence
- **Export**: Download results as GeoJSON

When you click "Done", results are returned as a geosam object that you can use in R:

```{r}
# After closing sam_explore()
plot(result)
sam_as_sf(result)
```

## Choosing an imagery source

Pass `source` to select the basemap and imagery provider:
```{r}
# Esri (no API key required)
sam_explore(source = "esri")

# MapTiler
sam_explore(source = "maptiler")
```

## Exemplar workflow

The interactive interface is particularly useful for exemplar-based detectionâ€”finding objects that are hard to describe in words:

1. Navigate to an area with objects you want to detect
2. Switch to "Box" mode
3. Draw a rectangle around one good example
4. SAM3 finds all similar objects in the view

This is often more effective than trying to craft the perfect text prompt.
